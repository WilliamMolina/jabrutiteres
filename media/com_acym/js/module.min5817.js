if("function"!=typeof submitAcymForm){var acytask,acyformName,acysubmitting;function submitAcymForm(e,t,a){if(void 0!==acysubmitting&&void 0!==acysubmitting&&acysubmitting===t)return;acytask=e,acyformName=t,a=void 0===a?"acymSubmitSubForm":a;let l="acym-captcha";t&&(l=t+"-captcha");let c=document.querySelector("#"+l+'[class="acyg-recaptcha"][data-size="invisible"]');c&&(c.className="g-recaptcha");let r=document.querySelector("#"+l+'[class="g-recaptcha"][data-size="invisible"]');if(!r||"object"!=typeof grecaptcha)return window[a]();let s=r.getAttribute("grcID");return s||(s=grecaptcha.render(l,{sitekey:r.getAttribute("data-sitekey"),callback:a,size:"invisible","expired-callback":"resetRecaptcha"}),r.setAttribute("grcID",s)),grecaptcha.getResponse(s)?window[a]():(grecaptcha.execute(s),!1)}function resetRecaptcha(){let e="acym-captcha";acyformName&&(e=acyformName+"-captcha");let t=document.querySelector("#"+e+'[class="g-recaptcha"][data-size="invisible"]');if(!t)return;let a=t.getAttribute("grcID");grecaptcha.reset(a)}function acym_resetInvalidClass(){let e=document.querySelectorAll("#"+acyformName+" .acym_invalid_field");if(0!==e.length)for(let t=0;t<e.length;t++)e[t].classList.remove("acym_invalid_field");let t=document.querySelectorAll("#"+acyformName+" .acym__field__error__block");if(0!==t.length)for(let e=0;e<t.length;e++)t[e].classList.remove("acym__field__error__block__active")}function acym_checkEmailField(e,t,a){let l=e.elements[t];if(l){l.value!==acymModule.EMAILCAPTION&&(l.value=l.value.replace(/ /g,""));let e=acymModule.emailRegex;l.value!==acymModule.EMAILCAPTION&&e.test(l.value)||acymAddInvalidClass(l.name,a,acymModule.VALID_EMAIL)}}function acym_handleRequiredRadio(e){let t=document.querySelectorAll("#"+acyformName+' [type="radio"][data-required]');if(0===t.length)return;let a,l="",c=0;for(let r=0;r<t.length;r++){if(a=JSON.parse(t[r].getAttribute("data-required")),""!==l&&l!==t[r].getAttribute("name"))if(0===c){acymAddInvalidClass(l,e,JSON.parse(t[r-1].getAttribute("data-required")).message)}else c=0;t[r].checked&&c++,l=t[r].getAttribute("name")}0===c&&acymAddInvalidClass(l,e,a.message)}function acym_handleRequiredCheckbox(e){let t=document.querySelectorAll("#"+acyformName+' [type="checkbox"][data-required]');if(0===t.length)return;let a,l="",c=0;for(let r=0;r<t.length;r++){a=JSON.parse(t[r].getAttribute("data-required"));let s=t[r].getAttribute("name").slice(0,t[r].getAttribute("name").lastIndexOf("["));if(""!==l&&l!==s)if(0===c){acymAddInvalidClass(l,e,JSON.parse(t[r-1].getAttribute("data-required")).message)}else c=0;t[r].checked&&c++,l=s}0===c&&acymAddInvalidClass(l,e,a.message)}function acym_handleRequiredDate(e){let t=document.querySelectorAll("#"+acyformName+' [acym-field-type="date"][data-required]');if(0===t.length)return;let a="",l=0;for(let c=0;c<t.length;c++){let r=t[c],s=JSON.parse(r.getAttribute("data-required")),i=r.getAttribute("name").slice(0,r.getAttribute("name").lastIndexOf("["));if(""!==a&&a!==i)if(l<3){l=0;let a=JSON.parse(t[c-1].getAttribute("data-required"));acymAddInvalidClass(t[c-1].name,e,a.message)}else l>0&&(l=0);r.value.length>0?l++:acymAddInvalidClass(r.name,e,s.message),a=t[c].getAttribute("name").slice(0,t[c].getAttribute("name").lastIndexOf("["))}}function acym_handleOtherRequiredFields(e){let t=document.querySelectorAll("#"+acyformName+' [data-required]:not([type="checkbox"]):not([type="radio"]):not([acym-field-type="date"])');if(0!==t.length)for(let a=0;a<t.length;a++){let l=JSON.parse(t[a].getAttribute("data-required"));-1===["text","textarea","single_dropdown","multiple_dropdown","phone"].indexOf(l.type)||""!==t[a].value&&"0"!=t[a].value||acymAddInvalidClass(t[a].name,e,l.message),"file"===l.type&&0===t[a].files.length&&acymAddInvalidClass(t[a].name,e,l.message)}}function acym_handleAuthorizedContent(e){let t=document.querySelectorAll("#"+acyformName+" [data-authorized-content]");if(0!==t.length)for(let a=0;a<t.length;a++){let l,c=t[a].getAttribute("data-authorized-content"),r=[];r.push(0);try{let e=c.indexOf("{"),t=c.indexOf("[");!isNaN(e)&&e>0&&!isNaN(t)&&t>0&&(c=c.substring(e)),l=void 0!==c||""!==c?JSON.parse(c):r}catch(e){l=r,console.log(e.stack)}let s="";"number"===l[0]?s=/^[0-9]+$/:"letters"===l[0]?s=/^[a-zA-Z]+$/:"numbers_letters"===l[0]?s=/^[a-zA-Z0-9]+$/:"regex"===l[0]&&(s=new RegExp(l.regex)),""!==s&&t[a].value.length>0&&!s.test(t[a].value)&&acymAddInvalidClass(t[a].name,e,l.message)}}function acymSubmitSubForm(){let e=document[acyformName],t={errors:0},a=acymModule.emailRegex;if(e.elements||(e=e[0].elements["user[email]"]&&e[0].elements["user[email]"].value&&a.test(e[0].elements["user[email]"].value)?e[0]:e[e.length-1]),acym_resetInvalidClass(),acym_checkEmailField(e,"user[email]",t),acym_handleRequiredRadio(t),acym_handleRequiredCheckbox(t),acym_handleRequiredDate(t),acym_handleOtherRequiredFields(t),acym_handleAuthorizedContent(t),t.errors>0)return!1;if(e.elements.hiddenlists.value.length<1){let t=!1,a=e.elements["subscription[]"];if(a&&(void 0===a.value||0===a.value.length)){for(let e=0;e<a.length;e++)a[e].checked&&(t=!0);if(!t)return"unsubscribe"!==acytask?alert(acymModule.NO_LIST_SELECTED):alert(acymModule.NO_LIST_SELECTED_UNSUB),!1}}if("unsubscribe"!==acytask){let t=e.elements.terms;if(t&&!t.checked)return"undefined"!=typeof acymModule&&alert(acymModule.ACCEPT_TERMS),!1;if("undefined"!=typeof acymModule&&void 0!==acymModule["excludeValues"+acyformName])for(let t in acymModule["excludeValues"+acyformName])acymModule["excludeValues"+acyformName].hasOwnProperty(t)&&e.elements["user["+t+"]"]&&e.elements["user["+t+"]"].value==acymModule["excludeValues"+acyformName][t]&&(e.elements["user["+t+"]"].value="")}if("undefined"!=typeof ga){ga("send","pageview","unsubscribe"===acytask?"unsubscribe":"subscribe")}if(e.task.value=acytask,!e.elements.ajax||!e.elements.ajax.value||"0"===e.elements.ajax.value||0===e.elements.ajax.value)return acymApplyCookie(acyformName),e.submit(),!1;let l=document.getElementById(acyformName),c=new FormData(l);l.className+=" acym_module_loading",l.style.filter="alpha(opacity=50)",l.style.opacity="0.5",acysubmitting=acyformName;let r=document.querySelectorAll(".responseContainer.acym_module_error.message_"+acyformName);Array.prototype.forEach.call(r,function(e){e.parentNode.removeChild(e)});let s=new XMLHttpRequest;return s.open("POST",l.getAttribute("action")),s.onload=function(){let e="Ajax Request Failure",t="error";if(acysubmitting===acyformName&&(acysubmitting=""),200===s.status){let a=JSON.parse(s.responseText);e=a.message,t=a.type}acymDisplayAjaxResponse(e,t,acyformName)},s.send(c),!1}function acymAddInvalidClass(e,t,a){let l=document.querySelectorAll("#"+acyformName+' [name^="'+e+'"]');for(let e=0;e<l.length;e++)l[e].classList.add("acym_invalid_field");if(a.length>0){let e=l[0].closest(".onefield");if(e&&0!==e.length){let t=e.querySelector(".acym__field__error__block");t.innerText=a,t.classList.add("acym__field__error__block__active")}}return t.errors++,!0}function acymDisplayAjaxResponse(e,t,a,l){let c=document.createElement("div"),r=document.getElementById("acym_fulldiv_"+a);r.firstChild&&!r.classList.contains("acym__subscription__form__popup__overlay")?r.insertBefore(c,r.firstChild):r.classList.contains("acym__subscription__form__popup__overlay")?r.querySelector(".acym__subscription__form__popup").appendChild(c):r.appendChild(c),c.className="responseContainer";let s=document.getElementById(a),i=document[a],n="replace";null!=i.elements.successmode&&(n=i.elements.successmode.value);let m=s.className,o="acym_module_loading",u=m.replace(" "+o,"",m);u==m&&(u=m.replace(o+" ","",m)),u==m&&(u=m.replace(o,"",m)),s.className=u,c.innerHTML=e,"success"===t?c.className+=" acym_module_success":(c.className+=" acym_module_error",s.style.opacity="1"),(l||"success"===t&&"toptemp"!==n)&&(s.style.display="none"),c.className+=" message_"+a,c.className+=" slide_open","replacetemp"!==n&&"toptemp"!==n||setTimeout(()=>{c.remove(),s.style.filter="alpha(opacity=100)",s.style.opacity="1","replacetemp"===n&&(s.style.display="")},3e3),acymApplyCookie(a)}function acymApplyCookie(e){let t=document.getElementById("acym_fulldiv_"+e);if(t.classList.contains("acym__subscription__form-erase")){let a=document.getElementById(e),l=a.getAttribute("acym-data-cookie");void 0===l&&(l=1);let c=new Date;c.setDate(c.getDate()+parseInt(l)),document.cookie="acym_form_"+a.getAttribute("acym-data-id")+"="+Date.now()+";expires="+c.toUTCString()+";path=/",setTimeout(()=>{t.remove()},2e3)}}}